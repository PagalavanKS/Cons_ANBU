# Set MIME types
AddType application/javascript .js
AddType text/css .css
AddType application/json .json
AddType image/svg+xml .svg
AddType application/font-woff .woff
AddType application/font-woff2 .woff2

# Enable CORS
Header set Access-Control-Allow-Origin "*"

# SPA Routing - Redirect all non-file/directory requests to index.html
<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /
  
  # If the request is not for an existing file or directory
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  
  # And not for the API
  RewriteCond %{REQUEST_URI} !^/api/
  
  # Send to index.html
  RewriteRule ^ index.html [L]
</IfModule>

# Cache static assets for better performance
<IfModule mod_expires.c>
  ExpiresActive On
  
  # Cache JavaScript, CSS, and image files for 1 day
  ExpiresByType application/javascript "access plus 1 day"
  ExpiresByType text/css "access plus 1 day"
  ExpiresByType image/jpeg "access plus 1 day"
  ExpiresByType image/png "access plus 1 day"
  ExpiresByType image/svg+xml "access plus 1 day"
  
  # Don't cache HTML
  ExpiresByType text/html "access plus 0 seconds"
</IfModule>
